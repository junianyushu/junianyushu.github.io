根据规则算法和A*算法